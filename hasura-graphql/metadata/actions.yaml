actions:
  - name: login
    definition:
      kind: synchronous
      handler: '{{ACTION_BASE_URL}}/login'
      timeout: 5
      request_transform:
        body:
          action: transform
          template: |-
            {
              "email" :{{$body.input.arg1.email}},
              "password" :{{$body.input.arg1.password}}
            }
        method: POST
        query_params: {}
        template_engine: Kriti
        version: 2
    permissions:
      - role: technical-project-manager
      - role: stock-manager
      - role: purchase-manager
      - role: project-manager
      - role: org-member
      - role: anonymous
      - role: super:admin
  - name: register
    definition:
      kind: synchronous
      handler: '{{ACTION_BASE_URL}}/register'
      forward_client_headers: true
      timeout: 15
      request_transform:
        body:
          action: transform
          template: |+
            {
                "first_name": {{$body.input.arg1.first_name}},
                "last_name": {{$body.input.arg1.last_name}},
                "email": {{$body.input.arg1.email}},
                "phone_number": {{$body.input.arg1.phone_number}},
                "user_roles" : {{$body.input.arg1.user_roles}},
                "gender" : {{$body.input.arg1.gender}}

            }


        template_engine: Kriti
        version: 2
    permissions:
      - role: super:admin
  - name: resetPasswordByEmail
    definition:
      kind: synchronous
      handler: '{{ACTION_BASE_URL}}/resetPasswordByEmail'
      forward_client_headers: true
      timeout: 10
      request_transform:
        body:
          action: transform
          template: "{\n  \n    \"email\": {{$body.input.arg1.email}},\n    \"password\": {{$body.input.arg1.password}},\n    \"reset_password_by_email_token\": {{$body.input.arg1.reset_password_by_email_token}}\n  \n}"
        template_engine: Kriti
        version: 2
    permissions:
      - role: technical-project-manager
      - role: stock-manager
      - role: purchase-manager
      - role: project-manager
      - role: org-member
      - role: anonymous
      - role: super:admin
    comment: resetPasswordByEmail
  - name: verifyEmailOrForgotPassword
    definition:
      kind: synchronous
      handler: '{{ACTION_BASE_URL}}/verifyEmailOrForgotPassword'
      forward_client_headers: true
      request_transform:
        body:
          action: transform
          template: "{\n  \n    \"email\": {{$body.input.arg1.email}},\n    \"reset_url\": {{$body.input.arg1.reset_url}}\n  \n}"
        template_engine: Kriti
        version: 2
    permissions:
      - role: technical-project-manager
      - role: stock-manager
      - role: purchase-manager
      - role: project-manager
      - role: org-member
      - role: anonymous
      - role: super:admin
    comment: verifyEmailOrForgotPassword
custom_types:
  enums: []
  input_objects:
    - name: loginInput
    - name: registerInput
    - name: imagesData
    - name: updateInput
    - name: forgotInput
    - name: resetInput
    - name: requestInput
    - name: SampleInput
    - name: messageInput
    - name: RegisterInput
    - name: SampleInpukt
    - name: resetPasswordByEmailInput
    - name: verifyByEmailInput
  objects:
    - name: authResponse
    - name: imagesUrls
    - name: SampleOutput
    - name: messageResponse
    - name: User
    - name: registerMessage
    - name: generalResponse
  scalars: []
